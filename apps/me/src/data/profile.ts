import { z } from "zod";

const focusAreaSchema = z.enum(["Frontend", "Backend", "DevOps"]);
const trackSchema = z.enum(["Web3", "Web2"]);

const roleSchema = z.object({
  id: z.string(),
  company: z.string(),
  companyStartYear: z.number().int(),
  companyEndYear: z.number().int(),
  title: z.string(),
  startYear: z.number().int(),
  endYear: z.number().int(),
  track: trackSchema,
  focusAreas: z.array(focusAreaSchema).min(1),
  bullets: z.array(z.string()).min(1),
  tech: z.array(z.string()).min(1),
});

const profileSchema = z.object({
  identity: z.object({
    name: z.string(),
    phone: z.string(),
    email: z.string().email(),
    github: z.string(),
    linkedIn: z.string(),
  }),
  summary: z.string(),
  yearsOfExperienceLabel: z.string(),
  headline: z.string(),
  quickTags: z.array(z.string()).min(1),
  coreHighlights: z.array(z.string()).min(1),
  openSource: z.array(z.string()).min(1),
  roles: z.array(roleSchema).min(1),
  skills: z.array(z.string()).min(1),
});

export const profileData = profileSchema.parse({
  identity: {
    name: "David Schrammel",
    phone: "+55 51 99840-6095",
    email: "contact@schrammel.xyz",
    github: "Schrammel",
    linkedIn: "davidschrammel",
  },
  summary:
    "Senior Full-Stack Engineer with 10+ years of experience, specializing in TypeScript and React. Known for delivering elegant, high-performance, and maintainable solutions, with a strong focus on product usability and engineering quality.",
  yearsOfExperienceLabel: "10+",
  headline: "Senior Full-Stack Engineer focused on high-quality, product-first delivery",
  quickTags: [
    "Web3",
    "Full-Stack",
    "TypeScript / React",
    "DevOps Leadership",
  ],
  coreHighlights: ["TypeScript", "PostgreSQL", "Docker", "React", "Next.js", "NestJS", "Solidity"],
  openSource: ["Alchemy SDK", "Swarmpit"],
  roles: [
    {
      id: "fjord-foundry-senior-frontend-engineer",
      company: "Fjord Foundry",
      companyStartYear: 2023,
      companyEndYear: 2025,
      title: "Senior Frontend Engineer",
      startYear: 2023,
      endYear: 2025,
      track: "Web3",
      focusAreas: ["Frontend"],
      bullets: [
        "Improved UX by collaborating closely with designers, iterating on prototypes, and building user-friendly interfaces.",
        "Spearheaded integration of Launchpad for Liquidity Bootstrapping Pools (LBP), expanding platform capabilities.",
        "Built multi-chain token swap system using SquidRouter and LI.FI, enabling cross-chain functionality with price impact and slippage.",
        "Delivered scalable features on the T3 stack (Next.js, TypeScript, tRPC, Prisma, Tailwind) with a focus on maintainability.",
      ],
      tech: [
        "TypeScript",
        "Next.js",
        "TanStack Router/Query",
        "Jotai",
        "tRPC",
        "Prisma",
        "React",
        "Tailwind",
        "SquidRouter",
        "Solidity (collaboration)",
      ],
    },
    {
      id: "concave-senior-frontend-engineer",
      company: "Concave",
      companyStartYear: 2021,
      companyEndYear: 2023,
      title: "Senior Frontend Engineer",
      startYear: 2021,
      endYear: 2023,
      track: "Web3",
      focusAreas: ["Frontend"],
      bullets: [
        "Collaborated with smart-contract engineers to design and integrate on-chain features, including staking, an NFT marketplace, liquidity-pool management, and swap systems.",
        "Built staking, an NFT marketplace, liquidity-pool management, and swap systems to increase platform utility and user engagement.",
      ],
      tech: [
        "TypeScript",
        "Next.js",
        "TanStack Router/Query",
        "tRPC",
        "Prisma",
        "React",
        "Solidity (collaboration)",
      ],
    },
    {
      id: "syonet-crm-devops-lead",
      company: "SYONET CRM",
      companyStartYear: 2013,
      companyEndYear: 2023,
      title: "DevOps Lead",
      startYear: 2019,
      endYear: 2023,
      track: "Web2",
      focusAreas: ["DevOps"],
      bullets: [
        "Established the DevOps department, improving deployment, SLAs, failure management, and templates for satellite services.",
        "Built Docker Swarm-based infrastructure, reducing deployment time and operational costs while improving reliability.",
        "Implemented observability across logs, metrics, and traces with Elasticsearch, Grafana, Elastic APM, and New Relic.",
        "Built pipelines to control server capacity in each cluster using Terraform.",
      ],
      tech: [
        "Docker Swarm",
        "Docker",
        "Terraform",
        "Elasticsearch",
        "Grafana",
        "Elastic APM",
        "New Relic",
      ],
    },
    {
      id: "syonet-crm-lead-software-engineer-technical-lead",
      company: "SYONET CRM",
      companyStartYear: 2013,
      companyEndYear: 2023,
      title: "Lead Software Engineer / Technical Lead",
      startYear: 2016,
      endYear: 2023,
      track: "Web2",
      focusAreas: ["Backend", "DevOps"],
      bullets: [
        "Designed and implemented project structure standards used across teams, including linters, vulnerability-scanning workflows, and CI/CD pipelines.",
        "Architected system solutions with a microservices approach to support scalability, maintainability, and performance.",
        "Provided technical guidance to team leads to align engineering standards and best practices.",
        "Trained and mentored team members transitioning from Support into Development.",
      ],
      tech: [
        "CI/CD",
        "Java",
        "Microservices",
        "Code Linters",
        "Vulnerability Scanning",
      ],
    },
  ],
  skills: [
    "TypeScript",
    "React",
    "Next.js",
    "NestJS",
    "TanStack Router/Query",
    "Jotai",
    "Zod",
    "CSS",
    "Tailwind",
    "Docker",
    "NGINX",
    "Traefik",
    "Terraform",
    "CI/CD",
    "gRPC",
    "PostgreSQL",
    "MongoDB",
    "Solidity",
    "Hardhat",
    "Foundry",
    "Viem",
    "Wagmi",
    "Radix/Shadcn",
    "Turborepo",
  ],
});

export type Profile = z.infer<typeof profileSchema>;
export type ProfileRole = z.infer<typeof roleSchema>;
export type FocusArea = z.infer<typeof focusAreaSchema>;
export type Track = z.infer<typeof trackSchema>;
